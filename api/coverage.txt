============================= test session starts ==============================
platform linux -- Python 3.9.5, pytest-6.2.5, py-1.10.0, pluggy-1.0.0 -- /home/nieminik/.local/share/virtualenvs/api-g65xNLld/bin/python
cachedir: .pytest_cache
rootdir: /home/nieminik/Repositories/everycache-app/api
plugins: freezegun-0.4.2, mock-3.6.1, Faker-9.3.1, cov-3.0.0
collecting ... collected 361 items

everycache_api/tests/test_common.py::test_create_app PASSED              [  0%]
everycache_api/tests/test_common.py::test_request_list_empty_database[/api/users] PASSED [  0%]
everycache_api/tests/test_common.py::test_request_list_empty_database[/api/caches] PASSED [  0%]
everycache_api/tests/test_common.py::test_marshmallow_error PASSED       [  1%]
everycache_api/tests/test_filters.py::TestParseValue::test_boolean[1-True] PASSED [  1%]
everycache_api/tests/test_filters.py::TestParseValue::test_boolean[true-True] PASSED [  1%]
everycache_api/tests/test_filters.py::TestParseValue::test_boolean[True-True] PASSED [  1%]
everycache_api/tests/test_filters.py::TestParseValue::test_boolean[-False0] PASSED [  2%]
everycache_api/tests/test_filters.py::TestParseValue::test_boolean[0-False] PASSED [  2%]
everycache_api/tests/test_filters.py::TestParseValue::test_boolean[false-False] PASSED [  2%]
everycache_api/tests/test_filters.py::TestParseValue::test_boolean[False-False] PASSED [  3%]
everycache_api/tests/test_filters.py::TestParseValue::test_boolean[-False1] PASSED [  3%]
everycache_api/tests/test_filters.py::TestParseValue::test_int[lolo-None] PASSED [  3%]
everycache_api/tests/test_filters.py::TestParseValue::test_int[-None] PASSED [  3%]
everycache_api/tests/test_filters.py::TestParseValue::test_int[a1230-None] PASSED [  4%]
everycache_api/tests/test_filters.py::TestParseValue::test_int[1230as-None] PASSED [  4%]
everycache_api/tests/test_filters.py::TestParseValue::test_int[123.0-None] PASSED [  4%]
everycache_api/tests/test_filters.py::TestParseValue::test_int[1-1] PASSED [  4%]
everycache_api/tests/test_filters.py::TestParseValue::test_int[120-120] PASSED [  5%]
everycache_api/tests/test_filters.py::TestParseValue::test_int[6060-6060] PASSED [  5%]
everycache_api/tests/test_filters.py::TestParseValue::test_float[1.0-1.0] PASSED [  5%]
everycache_api/tests/test_filters.py::TestParseValue::test_float[12.0-12.0] PASSED [  6%]
everycache_api/tests/test_filters.py::TestParseValue::test_float[2-2.0] PASSED [  6%]
everycache_api/tests/test_filters.py::TestParseValue::test_float[-None] PASSED [  6%]
everycache_api/tests/test_filters.py::TestParseValue::test_float[as1.2-None] PASSED [  6%]
everycache_api/tests/test_filters.py::TestParseValue::test_float[1.2as-None] PASSED [  7%]
everycache_api/tests/test_filters.py::TestParseValue::test_date[-None] PASSED [  7%]
everycache_api/tests/test_filters.py::TestParseValue::test_date[1-None] PASSED [  7%]
everycache_api/tests/test_filters.py::TestParseValue::test_date[1.0-None] PASSED [  8%]
everycache_api/tests/test_filters.py::TestParseValue::test_date[1-2-1997-expected3] PASSED [  8%]
everycache_api/tests/test_filters.py::TestParseValue::test_date[2-3-1993-expected4] PASSED [  8%]
everycache_api/tests/test_filters.py::test_like_helper[True] PASSED      [  8%]
everycache_api/tests/test_filters.py::test_like_helper[False] PASSED     [  9%]
everycache_api/tests/test_filters.py::test_filter_query[None] PASSED     [  9%]
everycache_api/tests/test_filters.py::test_filter_query[lte] PASSED      [  9%]
everycache_api/tests/test_filters.py::test_filter_query[lt] PASSED       [  9%]
everycache_api/tests/test_filters.py::test_filter_query[gte] PASSED      [ 10%]
everycache_api/tests/test_filters.py::test_filter_query[gt] PASSED       [ 10%]
everycache_api/tests/test_filters.py::test_filter_query[not] PASSED      [ 10%]
everycache_api/tests/test_filters.py::test_filter_query[like] PASSED     [ 11%]
everycache_api/tests/test_filters.py::test_filter_query[not-like] PASSED [ 11%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res1-val1-name1] PASSED [ 11%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res1-val1-name2] PASSED [ 11%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res1-val1-field_name] PASSED [ 12%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res1-val2-name1] PASSED [ 12%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res1-val2-name2] PASSED [ 12%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res1-val2-field_name] PASSED [ 13%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res1-None-name1] PASSED [ 13%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res1-None-name2] PASSED [ 13%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res1-None-field_name] PASSED [ 13%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res2-val1-name1] PASSED [ 14%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res2-val1-name2] PASSED [ 14%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res2-val1-field_name] PASSED [ 14%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res2-val2-name1] PASSED [ 14%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res2-val2-name2] PASSED [ 15%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res2-val2-field_name] PASSED [ 15%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res2-None-name1] PASSED [ 15%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res2-None-name2] PASSED [ 16%]
everycache_api/tests/test_filters.py::test_apply_filter[operation:value-res2-None-field_name] PASSED [ 16%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res1-val1-name1] PASSED [ 16%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res1-val1-name2] PASSED [ 16%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res1-val1-field_name] PASSED [ 17%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res1-val2-name1] PASSED [ 17%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res1-val2-name2] PASSED [ 17%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res1-val2-field_name] PASSED [ 18%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res1-None-name1] PASSED [ 18%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res1-None-name2] PASSED [ 18%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res1-None-field_name] PASSED [ 18%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res2-val1-name1] PASSED [ 19%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res2-val1-name2] PASSED [ 19%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res2-val1-field_name] PASSED [ 19%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res2-val2-name1] PASSED [ 19%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res2-val2-name2] PASSED [ 20%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res2-val2-field_name] PASSED [ 20%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res2-None-name1] PASSED [ 20%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res2-None-name2] PASSED [ 21%]
everycache_api/tests/test_filters.py::test_apply_filter[value-res2-None-field_name] PASSED [ 21%]
everycache_api/tests/test_filters.py::test_apply_query_filter PASSED     [ 21%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering[Pluck-field1-true] PASSED [ 21%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering[Pluck-field1-false] PASSED [ 22%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering[Pluck-field2-true] PASSED [ 22%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering[Pluck-field2-false] PASSED [ 22%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering[None-field1-true] PASSED [ 22%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering[None-field1-false] PASSED [ 23%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering[None-field2-true] PASSED [ 23%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering[None-field2-false] PASSED [ 23%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering_nested[field1-true] PASSED [ 24%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering_nested[field1-false] PASSED [ 24%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering_nested[field2-true] PASSED [ 24%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering_nested[field2-false] PASSED [ 24%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering_no_model_field[field1-true] PASSED [ 25%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering_no_model_field[field1-false] PASSED [ 25%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering_no_model_field[field2-true] PASSED [ 25%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering_no_model_field[field2-false] PASSED [ 26%]
everycache_api/tests/test_ordering.py::test_apply_query_ordering_no_order_by PASSED [ 26%]
everycache_api/tests/test_ordering.py::test_query_ordering_pluck PASSED  [ 26%]
everycache_api/tests/test_ordering.py::test_query_ordering_custom PASSED [ 26%]
everycache_api/tests/api/test_cache.py::TestCacheGet::test_get_cache_not_found[None] PASSED [ 27%]
everycache_api/tests/api/test_cache.py::TestCacheGet::test_get_cache_not_found[Role.Admin] PASSED [ 27%]
everycache_api/tests/api/test_cache.py::TestCacheGet::test_get_cache_not_found[Role.Default] PASSED [ 27%]
everycache_api/tests/api/test_cache.py::TestCacheGet::test_get_cache_deleted[None] PASSED [ 27%]
everycache_api/tests/api/test_cache.py::TestCacheGet::test_get_cache_deleted[Role.Admin] PASSED [ 28%]
everycache_api/tests/api/test_cache.py::TestCacheGet::test_get_cache_deleted[Role.Default] PASSED [ 28%]
everycache_api/tests/api/test_cache.py::TestCacheGet::test_get_cache_other_user_public[True] PASSED [ 28%]
everycache_api/tests/api/test_cache.py::TestCacheGet::test_get_cache_other_user_public[False] PASSED [ 29%]
everycache_api/tests/api/test_cache.py::TestCacheGet::test_get_other_user_cache_by_admin PASSED [ 29%]
everycache_api/tests/api/test_cache.py::TestCacheGet::test_get_own_cache[Role.Admin] PASSED [ 29%]
everycache_api/tests/api/test_cache.py::TestCacheGet::test_get_own_cache[Role.Default] PASSED [ 29%]
everycache_api/tests/api/test_cache.py::TestCachePut::test_put_unauthorized PASSED [ 30%]
everycache_api/tests/api/test_cache.py::TestCachePut::test_put_cache_not_found[Role.Admin] PASSED [ 30%]
everycache_api/tests/api/test_cache.py::TestCachePut::test_put_cache_not_found[Role.Default] PASSED [ 30%]
everycache_api/tests/api/test_cache.py::TestCachePut::test_put_cache_deleted[Role.Admin] PASSED [ 31%]
everycache_api/tests/api/test_cache.py::TestCachePut::test_put_cache_deleted[Role.Default] PASSED [ 31%]
everycache_api/tests/api/test_cache.py::TestCachePut::test_put_own_cache[Role.Admin] PASSED [ 31%]
everycache_api/tests/api/test_cache.py::TestCachePut::test_put_own_cache[Role.Default] PASSED [ 31%]
everycache_api/tests/api/test_cache.py::TestCachePut::test_put_own_cache_by_deleted_user[Role.Admin] PASSED [ 32%]
everycache_api/tests/api/test_cache.py::TestCachePut::test_put_own_cache_by_deleted_user[Role.Default] PASSED [ 32%]
everycache_api/tests/api/test_cache.py::TestCachePut::test_put_other_users_cache PASSED [ 32%]
everycache_api/tests/api/test_cache.py::TestCachePut::test_put_other_users_cache_by_admin PASSED [ 32%]
everycache_api/tests/api/test_cache.py::TestCacheDelete::test_delete_unauthorized PASSED [ 33%]
everycache_api/tests/api/test_cache.py::TestCacheDelete::test_delete_cache_not_found[Role.Admin] PASSED [ 33%]
everycache_api/tests/api/test_cache.py::TestCacheDelete::test_delete_cache_not_found[Role.Default] PASSED [ 33%]
everycache_api/tests/api/test_cache.py::TestCacheDelete::test_delete_cache_deleted[Role.Admin] PASSED [ 34%]
everycache_api/tests/api/test_cache.py::TestCacheDelete::test_delete_cache_deleted[Role.Default] PASSED [ 34%]
everycache_api/tests/api/test_cache.py::TestCacheDelete::test_delete_other_users_cache PASSED [ 34%]
everycache_api/tests/api/test_cache.py::TestCacheDelete::test_delete_other_users_cache_by_admin PASSED [ 34%]
everycache_api/tests/api/test_cache.py::TestCacheDelete::test_delete_own_cache[Role.Admin] PASSED [ 35%]
everycache_api/tests/api/test_cache.py::TestCacheDelete::test_delete_own_cache[Role.Default] PASSED [ 35%]
everycache_api/tests/api/test_cache.py::TestCacheDelete::test_delete_own_cache_by_deleted_user[Role.Admin] PASSED [ 35%]
everycache_api/tests/api/test_cache.py::TestCacheDelete::test_delete_own_cache_by_deleted_user[Role.Default] PASSED [ 36%]
everycache_api/tests/api/test_cache.py::TestCacheListGet::test_get_public_list[False] PASSED [ 36%]
everycache_api/tests/api/test_cache.py::TestCacheListGet::test_get_public_list[True] PASSED [ 36%]
everycache_api/tests/api/test_cache.py::TestCacheListGet::test_get_admin_list PASSED [ 36%]
everycache_api/tests/api/test_cache.py::TestCacheListGet::test_get_deleted_cache_hidden[Role.Admin] PASSED [ 37%]
everycache_api/tests/api/test_cache.py::TestCacheListGet::test_get_deleted_cache_hidden[Role.Default] PASSED [ 37%]
everycache_api/tests/api/test_cache.py::TestCacheListPost::test_post_unauthorized PASSED [ 37%]
everycache_api/tests/api/test_cache.py::TestCacheListPost::test_post_cache_created[Role.Admin] PASSED [ 37%]
everycache_api/tests/api/test_cache.py::TestCacheListPost::test_post_cache_created[Role.Default] PASSED [ 38%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourceGet::test_get[None] PASSED [ 38%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourceGet::test_get[Role.Admin] PASSED [ 38%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourceGet::test_get[Role.Default] PASSED [ 39%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourceGet::test_get_cache_deleted[None] PASSED [ 39%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourceGet::test_get_cache_deleted[Role.Admin] PASSED [ 39%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourceGet::test_get_cache_deleted[Role.Default] PASSED [ 39%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourceGet::test_get_deleted[None] PASSED [ 40%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourceGet::test_get_deleted[Role.Admin] PASSED [ 40%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourceGet::test_get_deleted[Role.Default] PASSED [ 40%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourcePost::test_post_unauthorized PASSED [ 40%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourcePost::test_post_no_cache[Role.Admin] PASSED [ 41%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourcePost::test_post_no_cache[Role.Default] PASSED [ 41%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourcePost::test_post_cache_deleted[Role.Admin] PASSED [ 41%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourcePost::test_post_cache_deleted[Role.Default] PASSED [ 42%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourcePost::test_post[Role.Admin] PASSED [ 42%]
everycache_api/tests/api/test_cache.py::TestCacheVisitListResourcePost::test_post[Role.Default] PASSED [ 42%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourceGet::test_get[None] PASSED [ 42%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourceGet::test_get[Role.Admin] PASSED [ 43%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourceGet::test_get[Role.Default] PASSED [ 43%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourceGet::test_get_cache_deleted[None] PASSED [ 43%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourceGet::test_get_cache_deleted[Role.Admin] PASSED [ 44%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourceGet::test_get_cache_deleted[Role.Default] PASSED [ 44%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourceGet::test_get_deleted[None] PASSED [ 44%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourceGet::test_get_deleted[Role.Admin] PASSED [ 44%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourceGet::test_get_deleted[Role.Default] PASSED [ 45%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourcePost::test_post_unauthorized PASSED [ 45%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourcePost::test_post_no_cache[Role.Admin] PASSED [ 45%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourcePost::test_post_no_cache[Role.Default] PASSED [ 45%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourcePost::test_post_cache_deleted[Role.Admin] PASSED [ 46%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourcePost::test_post_cache_deleted[Role.Default] PASSED [ 46%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourcePost::test_post[Role.Admin] PASSED [ 46%]
everycache_api/tests/api/test_cache.py::TestCacheCommentListResourcePost::test_post[Role.Default] PASSED [ 47%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentGet::test_get_cache_comment_not_found PASSED [ 47%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentGet::test_get_cache_comment_deleted PASSED [ 47%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentGet::test_get[None] PASSED [ 47%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentGet::test_get[Role.Admin] PASSED [ 48%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentGet::test_get[Role.Default] PASSED [ 48%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentGet::test_get_cache_deleted[Role.Admin] PASSED [ 48%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentGet::test_get_cache_deleted[Role.Default] PASSED [ 49%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentGet::test_get_author_deleted[Role.Admin] PASSED [ 49%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentGet::test_get_author_deleted[Role.Default] PASSED [ 49%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentPut::test_put_unauthorized PASSED [ 49%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentPut::test_put_cache_comment_not_found[Role.Admin] PASSED [ 50%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentPut::test_put_cache_comment_not_found[Role.Default] PASSED [ 50%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentPut::test_put_cache_comment_deleted[Role.Admin] PASSED [ 50%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentPut::test_put_cache_comment_deleted[Role.Default] PASSED [ 50%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentPut::test_put_other_users_cache_comment PASSED [ 51%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentPut::test_put_other_users_cache_comment_by_admin PASSED [ 51%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentPut::test_put[Role.Admin] PASSED [ 51%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentPut::test_put[Role.Default] PASSED [ 52%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentPut::test_put_by_deleted_user[Role.Admin] PASSED [ 52%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentPut::test_put_by_deleted_user[Role.Default] PASSED [ 52%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentPut::test_put_cache_deleted[Role.Admin] PASSED [ 52%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentPut::test_put_cache_deleted[Role.Default] PASSED [ 53%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentDelete::test_delete_cache_comment_not_found[Role.Admin] PASSED [ 53%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentDelete::test_delete_cache_comment_not_found[Role.Default] PASSED [ 53%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentDelete::test_delete_cache_comment_deleted[Role.Admin] PASSED [ 54%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentDelete::test_delete_cache_comment_deleted[Role.Default] PASSED [ 54%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentDelete::test_delete_unauthorized PASSED [ 54%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentDelete::test_delete_other_users_visit PASSED [ 54%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentDelete::test_delete_other_users_visit_by_admin PASSED [ 55%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentDelete::test_delete PASSED [ 55%]
everycache_api/tests/api/test_cache_comment.py::TestCacheCommentDelete::test_delete_by_deleted_user PASSED [ 55%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitGet::test_get_cache_visit_not_found PASSED [ 55%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitGet::test_get_cache_visit_deleted PASSED [ 56%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitGet::test_get[None] PASSED [ 56%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitGet::test_get[Role.Admin] PASSED [ 56%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitGet::test_get[Role.Default] PASSED [ 57%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitGet::test_get_cache_deleted[Role.Admin] PASSED [ 57%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitGet::test_get_cache_deleted[Role.Default] PASSED [ 57%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitPut::test_put_unauthorized PASSED [ 57%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitPut::test_put_cache_visit_not_found[Role.Admin] PASSED [ 58%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitPut::test_put_cache_visit_not_found[Role.Default] PASSED [ 58%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitPut::test_put_cache_visit_deleted[Role.Admin] PASSED [ 58%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitPut::test_put_cache_visit_deleted[Role.Default] PASSED [ 59%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitPut::test_put_other_users_cache_visit PASSED [ 59%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitPut::test_put_other_users_cache_visit_by_admin PASSED [ 59%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitPut::test_put[Role.Admin] PASSED [ 59%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitPut::test_put[Role.Default] PASSED [ 60%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitPut::test_put_by_deleted_user[Role.Admin] PASSED [ 60%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitPut::test_put_by_deleted_user[Role.Default] PASSED [ 60%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitPut::test_put_cache_deleted[Role.Admin] PASSED [ 60%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitPut::test_put_cache_deleted[Role.Default] PASSED [ 61%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitDelete::test_delete_cache_visit_not_found[Role.Admin] PASSED [ 61%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitDelete::test_delete_cache_visit_not_found[Role.Default] PASSED [ 61%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitDelete::test_delete_cache_visit_deleted[Role.Admin] PASSED [ 62%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitDelete::test_delete_cache_visit_deleted[Role.Default] PASSED [ 62%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitDelete::test_delete_unauthorized PASSED [ 62%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitDelete::test_delete_other_users_visit PASSED [ 62%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitDelete::test_delete_other_users_visit_by_admin PASSED [ 63%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitDelete::test_delete[Role.Admin] PASSED [ 63%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitDelete::test_delete[Role.Default] PASSED [ 63%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitDelete::test_delete_by_deleted_user[Role.Admin] PASSED [ 63%]
everycache_api/tests/api/test_cache_visit.py::TestCacheVisitDelete::test_delete_by_deleted_user[Role.Default] PASSED [ 64%]
everycache_api/tests/api/test_user.py::TestUserGet::test_get_public PASSED [ 64%]
everycache_api/tests/api/test_user.py::TestUserGet::test_get_other_user PASSED [ 64%]
everycache_api/tests/api/test_user.py::TestUserGet::test_get_self PASSED [ 65%]
everycache_api/tests/api/test_user.py::TestUserGet::test_get_no_user PASSED [ 65%]
everycache_api/tests/api/test_user.py::TestUserGet::test_get_by_admin PASSED [ 65%]
everycache_api/tests/api/test_user.py::TestUserGet::test_get_deleted_user[None] PASSED [ 65%]
everycache_api/tests/api/test_user.py::TestUserGet::test_get_deleted_user[Role.Admin] PASSED [ 66%]
everycache_api/tests/api/test_user.py::TestUserGet::test_get_deleted_user[Role.Default] PASSED [ 66%]
everycache_api/tests/api/test_user.py::TestUserPut::test_put_self PASSED [ 66%]
everycache_api/tests/api/test_user.py::TestUserPut::test_put_other_user PASSED [ 67%]
everycache_api/tests/api/test_user.py::TestUserPut::test_put_other_user_by_admin PASSED [ 67%]
everycache_api/tests/api/test_user.py::TestUserPut::test_put_user_not_found PASSED [ 67%]
everycache_api/tests/api/test_user.py::TestUserDelete::test_delete PASSED [ 67%]
everycache_api/tests/api/test_user.py::TestUserDelete::test_delete_other_user PASSED [ 68%]
everycache_api/tests/api/test_user.py::TestUserDelete::test_delete_other_user_by_admin PASSED [ 68%]
everycache_api/tests/api/test_user.py::TestUserDelete::test_delete_user_not_found PASSED [ 68%]
everycache_api/tests/api/test_user.py::TestUserListGet::test_get_public_list[False] PASSED [ 68%]
everycache_api/tests/api/test_user.py::TestUserListGet::test_get_public_list[True] PASSED [ 69%]
everycache_api/tests/api/test_user.py::TestUserListGet::test_get_unverified_user_gets_hidden[False] PASSED [ 69%]
everycache_api/tests/api/test_user.py::TestUserListGet::test_get_unverified_user_gets_hidden[True] PASSED [ 69%]
everycache_api/tests/api/test_user.py::TestUserListGet::test_get_deleted_user_gets_hidden[False] PASSED [ 70%]
everycache_api/tests/api/test_user.py::TestUserListGet::test_get_deleted_user_gets_hidden[True] PASSED [ 70%]
everycache_api/tests/api/test_user.py::TestUserListGet::test_get_admin_list PASSED [ 70%]
everycache_api/tests/api/test_user.py::TestUserListGet::test_get_admin_sees_all PASSED [ 70%]
everycache_api/tests/api/test_user.py::TestUserListPost::test_post PASSED [ 71%]
everycache_api/tests/api/test_user.py::TestUserListPost::test_post_logged_in PASSED [ 71%]
everycache_api/tests/api/test_user.py::TestUserListPost::test_post_logged_in_as_admin PASSED [ 71%]
everycache_api/tests/api/test_user.py::TestUserListPost::test_post_unique_value_taken[username-True] PASSED [ 72%]
everycache_api/tests/api/test_user.py::TestUserListPost::test_post_unique_value_taken[username-False] PASSED [ 72%]
everycache_api/tests/api/test_user.py::TestUserListPost::test_post_unique_value_taken[email-True] PASSED [ 72%]
everycache_api/tests/api/test_user.py::TestUserListPost::test_post_unique_value_taken[email-False] PASSED [ 72%]
everycache_api/tests/api/test_user.py::TestUserCacheListGet::test_get_public_list[True] PASSED [ 73%]
everycache_api/tests/api/test_user.py::TestUserCacheListGet::test_get_public_list[False] PASSED [ 73%]
everycache_api/tests/api/test_user.py::TestUserCacheListGet::test_get_owner_not_found[None] PASSED [ 73%]
everycache_api/tests/api/test_user.py::TestUserCacheListGet::test_get_owner_not_found[Role.Admin] PASSED [ 73%]
everycache_api/tests/api/test_user.py::TestUserCacheListGet::test_get_owner_not_found[Role.Default] PASSED [ 74%]
everycache_api/tests/api/test_user.py::TestUserCacheListGet::test_get_owner_deleted[None] PASSED [ 74%]
everycache_api/tests/api/test_user.py::TestUserCacheListGet::test_get_owner_deleted[Role.Admin] PASSED [ 74%]
everycache_api/tests/api/test_user.py::TestUserCacheListGet::test_get_owner_deleted[Role.Default] PASSED [ 75%]
everycache_api/tests/api/test_user.py::TestUserCacheListGet::test_get_deleted_cache[None] PASSED [ 75%]
everycache_api/tests/api/test_user.py::TestUserCacheListGet::test_get_deleted_cache[Role.Admin] PASSED [ 75%]
everycache_api/tests/api/test_user.py::TestUserCacheListGet::test_get_deleted_cache[Role.Default] PASSED [ 75%]
everycache_api/tests/api/test_user.py::TestUserCacheListGet::test_get_as_admin PASSED [ 76%]
everycache_api/tests/api/test_user.py::TestUserCacheListGet::test_get_as_owner PASSED [ 76%]
everycache_api/tests/api/test_user.py::TestUserCacheVisitListGet::test_get_unauthorized PASSED [ 76%]
everycache_api/tests/api/test_user.py::TestUserCacheVisitListGet::test_get_own_visits[Role.Admin] PASSED [ 77%]
everycache_api/tests/api/test_user.py::TestUserCacheVisitListGet::test_get_own_visits[Role.Default] PASSED [ 77%]
everycache_api/tests/api/test_user.py::TestUserCacheVisitListGet::test_get_other_user_visits[Role.Admin] PASSED [ 77%]
everycache_api/tests/api/test_user.py::TestUserCacheVisitListGet::test_get_other_user_visits[Role.Default] PASSED [ 77%]
everycache_api/tests/api/test_user.py::TestUserCacheVisitListGet::test_get_no_user_found[Role.Admin] PASSED [ 78%]
everycache_api/tests/api/test_user.py::TestUserCacheVisitListGet::test_get_no_user_found[Role.Default] PASSED [ 78%]
everycache_api/tests/api/test_user.py::TestUserCacheVisitListGet::test_get_no_user_deleted[Role.Admin] PASSED [ 78%]
everycache_api/tests/api/test_user.py::TestUserCacheVisitListGet::test_get_no_user_deleted[Role.Default] PASSED [ 78%]
everycache_api/tests/api/test_user.py::TestUserCacheVisitListGet::test_get_deleted[Role.Admin-cache_visit] PASSED [ 79%]
everycache_api/tests/api/test_user.py::TestUserCacheVisitListGet::test_get_deleted[Role.Admin-cache] PASSED [ 79%]
everycache_api/tests/api/test_user.py::TestUserCacheVisitListGet::test_get_deleted[Role.Default-cache_visit] PASSED [ 79%]
everycache_api/tests/api/test_user.py::TestUserCacheVisitListGet::test_get_deleted[Role.Default-cache] PASSED [ 80%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get[None] PASSED [ 80%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get[Role.Admin] PASSED [ 80%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get[Role.Default] PASSED [ 80%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get_user_not_found[None] PASSED [ 81%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get_user_not_found[Role.Admin] PASSED [ 81%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get_user_not_found[Role.Default] PASSED [ 81%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get_user_deleted[None] PASSED [ 81%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get_user_deleted[Role.Admin] PASSED [ 82%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get_user_deleted[Role.Default] PASSED [ 82%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get_cache_deleted[None] PASSED [ 82%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get_cache_deleted[Role.Admin] PASSED [ 83%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get_cache_deleted[Role.Default] PASSED [ 83%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get_comment_deleted[None] PASSED [ 83%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get_comment_deleted[Role.Admin] PASSED [ 83%]
everycache_api/tests/api/test_user.py::TestUserCacheCommentListGet::test_get_comment_deleted[Role.Default] PASSED [ 84%]
everycache_api/tests/auth/test_auth_helpers.py::test_create_jwt_payload[UserFactory] PASSED [ 84%]
everycache_api/tests/auth/test_auth_helpers.py::test_create_jwt_payload[AdminFactory] PASSED [ 84%]
everycache_api/tests/auth/test_auth_helpers.py::test_create_user_access_token PASSED [ 85%]
everycache_api/tests/auth/test_auth_helpers.py::test_create_user_refresh_token PASSED [ 85%]
everycache_api/tests/auth/test_auth_helpers.py::test_save_encoded_token[access] PASSED [ 85%]
everycache_api/tests/auth/test_auth_helpers.py::test_save_encoded_token[refresh] PASSED [ 85%]
everycache_api/tests/auth/test_auth_helpers.py::test_is_token_revoked[access-True] PASSED [ 86%]
everycache_api/tests/auth/test_auth_helpers.py::test_is_token_revoked[access-False] PASSED [ 86%]
everycache_api/tests/auth/test_auth_helpers.py::test_is_token_revoked[refresh-True] PASSED [ 86%]
everycache_api/tests/auth/test_auth_helpers.py::test_is_token_revoked[refresh-False] PASSED [ 86%]
everycache_api/tests/auth/test_auth_helpers.py::test_is_token_revoked_not_found PASSED [ 87%]
everycache_api/tests/auth/test_auth_helpers.py::test_revoke_token[access] PASSED [ 87%]
everycache_api/tests/auth/test_auth_helpers.py::test_revoke_token[refresh] PASSED [ 87%]
everycache_api/tests/auth/test_auth_helpers.py::test_revoke_token_no_token PASSED [ 88%]
everycache_api/tests/auth/test_auth_helpers.py::test_revoke_one_token[access] PASSED [ 88%]
everycache_api/tests/auth/test_auth_helpers.py::test_revoke_one_token[refresh] PASSED [ 88%]
everycache_api/tests/auth/test_auth_helpers.py::test_revoke_all_user_tokens PASSED [ 88%]
everycache_api/tests/auth/test_auth_helpers.py::test_revoke_all_user_tokens_other_users PASSED [ 89%]
everycache_api/tests/auth/test_auth_helpers.py::test_revoke_all_user_tokens_none_found PASSED [ 89%]
everycache_api/tests/auth/test_auth_views.py::test_login PASSED          [ 89%]
everycache_api/tests/auth/test_auth_views.py::test_login_not_json PASSED [ 90%]
everycache_api/tests/auth/test_auth_views.py::test_login_wrong_email PASSED [ 90%]
everycache_api/tests/auth/test_auth_views.py::test_login_wrong_password PASSED [ 90%]
everycache_api/tests/auth/test_auth_views.py::test_login_missing_data[login_data0] PASSED [ 90%]
everycache_api/tests/auth/test_auth_views.py::test_login_missing_data[login_data1] PASSED [ 91%]
everycache_api/tests/auth/test_auth_views.py::test_login_missing_data[login_data2] PASSED [ 91%]
everycache_api/tests/auth/test_auth_views.py::test_refresh PASSED        [ 91%]
everycache_api/tests/auth/test_auth_views.py::test_refresh_user_not_found PASSED [ 91%]
everycache_api/tests/auth/test_auth_views.py::test_revoke_access_token PASSED [ 92%]
everycache_api/tests/auth/test_auth_views.py::test_revoke_refresh_token PASSED [ 92%]
everycache_api/tests/auth/test_auth_views.py::test_revoke_all PASSED     [ 92%]
everycache_api/tests/auth/test_token_cleanup.py::test_token_cleanup PASSED [ 93%]
everycache_api/tests/auth/test_token_cleanup.py::test_token_cleanup_none_found PASSED [ 93%]
everycache_api/tests/auth/test_token_cleanup.py::test_add_job PASSED     [ 93%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_create_jwt_payload[UserFactory] PASSED [ 93%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_create_jwt_payload[AdminFactory] PASSED [ 94%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_create_user_access_token PASSED [ 94%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_create_user_refresh_token PASSED [ 94%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_save_encoded_token[access] PASSED [ 95%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_save_encoded_token[refresh] PASSED [ 95%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_is_token_revoked[access-True] PASSED [ 95%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_is_token_revoked[access-False] PASSED [ 95%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_is_token_revoked[refresh-True] PASSED [ 96%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_is_token_revoked[refresh-False] PASSED [ 96%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_is_token_revoked_not_found PASSED [ 96%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_revoke_token[access] PASSED [ 96%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_revoke_token[refresh] PASSED [ 97%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_revoke_token_no_token PASSED [ 97%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_revoke_one_token[access] PASSED [ 97%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_revoke_one_token[refresh] PASSED [ 98%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_revoke_all_user_tokens[access] PASSED [ 98%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_revoke_all_user_tokens[refresh] PASSED [ 98%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_revoke_all_user_tokens_other_users[access] PASSED [ 98%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_revoke_all_user_tokens_other_users[refresh] PASSED [ 99%]
everycache_api/tests/redis/test_auth_helpers_redis.py::test_revoke_all_user_tokens_none_found PASSED [ 99%]
everycache_api/tests/redis/test_init.py::test_redis_client_init PASSED   [ 99%]
everycache_api/tests/redis/test_storage_helper.py::test_db_to_storage PASSED [100%]

=============================== warnings summary ===============================
everycache_api/tests/test_common.py::test_create_app
everycache_api/tests/redis/test_init.py::test_redis_client_init
  /home/nieminik/.local/share/virtualenvs/api-g65xNLld/lib/python3.9/site-packages/flask_sqlalchemy/__init__.py:851: UserWarning: Neither SQLALCHEMY_DATABASE_URI nor SQLALCHEMY_BINDS is set. Defaulting SQLALCHEMY_DATABASE_URI to "sqlite:///:memory:".
    warnings.warn(

everycache_api/tests/test_common.py::test_request_list_empty_database[/api/caches]
  /home/nieminik/.local/share/virtualenvs/api-g65xNLld/lib/python3.9/site-packages/flask_sqlalchemy/__init__.py:534: SAWarning: Dialect sqlite+pysqlite does *not* support Decimal objects natively, and SQLAlchemy must convert from floating point - rounding errors and other issues may occur. Please consider storing Decimal numbers as strings or integers on this platform for lossless storage.
    items = self.limit(per_page).offset((page - 1) * per_page).all()

everycache_api/tests/redis/test_init.py::test_redis_client_init
  /home/nieminik/.local/share/virtualenvs/api-g65xNLld/lib/python3.9/site-packages/flask_sqlalchemy/__init__.py:872: FSADeprecationWarning: SQLALCHEMY_TRACK_MODIFICATIONS adds significant overhead and will be disabled by default in the future.  Set it to True or False to suppress this warning.
    warnings.warn(FSADeprecationWarning(

-- Docs: https://docs.pytest.org/en/stable/warnings.html

----------- coverage: platform linux, python 3.9.5-final-0 -----------
Name                                            Stmts   Miss  Cover   Missing
-----------------------------------------------------------------------------
everycache_api/__init__.py                          0      0   100%
everycache_api/api/__init__.py                      2      0   100%
everycache_api/api/resources/__init__.py            5      0   100%
everycache_api/api/resources/cache.py              79      0   100%
everycache_api/api/resources/cache_comment.py      27      0   100%
everycache_api/api/resources/cache_visit.py        27      0   100%
everycache_api/api/resources/user.py               79      0   100%
everycache_api/api/views.py                        34      0   100%
everycache_api/app.py                              33      3    91%   75-77
everycache_api/auth/__init__.py                     2      0   100%
everycache_api/auth/database_helper.py             30      0   100%
everycache_api/auth/helpers.py                     49      0   100%
everycache_api/auth/storage_helper.py              43      0   100%
everycache_api/auth/token_cleanup.py               19      0   100%
everycache_api/auth/views.py                       59      0   100%
everycache_api/common/__init__.py                   0      0   100%
everycache_api/common/filters.py                   54      0   100%
everycache_api/common/ordering.py                  26      0   100%
everycache_api/common/pagination.py                17      0   100%
everycache_api/extensions.py                       21      1    95%   24
-----------------------------------------------------------------------------
TOTAL                                             606      4    99%

======================= 361 passed, 4 warnings in 44.39s =======================
